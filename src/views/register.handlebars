<h1>REGISTER</h1>
<form id="formregister">
    <input type="text" name="firstName" placeholder="firstName" id="firstName" >
    <input type="text" name="lastName" placeholder="lastName" id="lastName" >
    <input type="text" name="email" placeholder="email" id="email" >
    <input type="text" name="password" placeholder="password" id="password" >
    <input type="number" name="age" placeholder="age" id="age" >
    <input type='submit' value="register">
</form>
<a href="/auth/login">Have an account? Sign In</a>

<h1>REGISTER</h1>
<form id="formregister">
    <input type="text" name="firstName" placeholder="firstName" id="firstName" >
    <input type="text" name="lastName" placeholder="lastName" id="lastName" >
    <input type="text" name="email" placeholder="email" id="email" >
    <input type="text" name="password" placeholder="password" id="password" >
    <input type="number" name="age" placeholder="age" id="age" >
    <input type='submit' value="register">
</form>
<a href="/auth/login">Have an account? Sign In</a>

<script>
const formRegister = document.getElementById("formregister")
formRegister.addEventListener("submit", async (e) => {
    e.preventDefault();
    const userParams = {
        firstName: document.getElementById("firstName").value,
        lastName: document.getElementById("lastName").value,
        email: document.getElementById("email").value,
        password: document.getElementById("password").value,
        age: document.getElementById("age").value
    }
    const response = await fetch('/auth/register', {
        method: 'POST',
        body: JSON.stringify(userParams),
        headers: {
            'content-type': 'application/json'
        }
    })
    if(response.ok) {
        window.location.assign('/auth/login')
    } else{
        alert('Error al registrar usuario')
    }
})
</script>